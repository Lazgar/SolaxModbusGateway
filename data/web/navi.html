<!DOCTYPE html>
<html lang="en">
<head>
  <meta name='viewport' content='width=device-width, initial-scale=1.0'/>
  <meta charset='utf-8'>
  <link rel='stylesheet' type='text/css' href='Style.css'>
  <link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css' >
  <script language='javascript' type='module' src='Javascript.js'></script>
  <script language='javascript' type='module' src='navi.js'></script>
  
  <script type='module'>
    import { init, highlightNavi, showUpdateInfoInMainFrame } from './navi.js';
    window.highlightNavi = highlightNavi;
    window.showUpdateInfoInMainFrame = showUpdateInfoInMainFrame;

    window.addEventListener('load', init, false);
  </script>

  <title>Modbus MQTT Gateway</title>
</head>
<body>
  <table>
    <tr>
      <td colspan='8'>
        <b>Configuration</b> of
        <i><span style='color:#CCCCCC;' id='hostname'></span></i>
      </td>

      <td colspan='9'>
        <span id="updateInfoItem" class="hide" onclick="showUpdateInfoInMainFrame()">
          <i class="pulse fa fa-info-circle" style="color: green; font-size: 20px;"></i>
        </span>
        <b>Release: </b>
          <span style='color:orange;'>
            <span id='releasename'></span>
          </span><br>of 
          <span id='releasedate'></span>
          <span id='releasetime'></span>
      </td>
    </tr>
    <tr>
      <td class='navi' style='width: 50px'></td>
      <td class='navi navi_active' name='navi' id='status' onclick='highlightNavi(this)' style='width: 100px'><a href='/web/status.html' target="frame_main">Status</a></td>
      <td class='navi' style='width: 50px'></td>
      <td class='navi' name='navi' id='baseconfig' onclick='highlightNavi(this)' style='width: 100px'><a href='/web/baseconfig.html' target="frame_main">Basis Config</a></td>
      <td class='navi' style='width: 50px'></td>
      <td class='navi' name='navi' id='ModbusConfig' onclick='highlightNavi(this)' style='width: 120px'><a href='/web/modbusconfig.html' target="frame_main">Modbus Config</a></td>
      <td class='navi' style='width: 50px'></td>
      <td class='navi' name='navi' id='ModbusItemConfig' onclick='highlightNavi(this)' style='width: 100px'><a href='/web/modbusitemconfig.html' target="frame_main">Item Config</a></td>
      <td class='navi' style='width: 50px'></td>
      <td class='navi' name='navi' id='ModbusRawData' onclick='highlightNavi(this)' style='width: 100px'><a href='/web/rawdata.html' target="frame_main">Raw Data</a></td>
      <td class='navi' style='width: 50px'></td>
      <td class='navi' name='navi' id='handleFiles' onclick='highlightNavi(this)' style='width: 100px'><a href='/web/handlefiles.html' target="frame_main">Files</a></td>
      <td class='navi' style='width: 50px'></td>
      <td class='navi' name='navi' id='wiki' style='width: 100px'><a href='https://github.com/tobiasfaust/SolaxModbusGateway/wiki' target='_blank'>Wiki</a></td>
      <td class='navi' style='width: 50px'></td>
      <td class='navi'>
        <form style='margin: -5px' action="https://www.paypal.com/donate" method="post" target="_blank">
          <input type="hidden" name="hosted_button_id" value="RYUQVSNNTP3N6" />
          <input type="image" style='margin: -5px; padding: 0px; border: 0px;' src="https://www.paypalobjects.com/en_US/i/btn/btn_donate_LG.gif" name="submit" title="If you think the project is great, I would be happy about a donation to be able to integrate paid extensions. I want to integrate the professional WebSerial and professional ElegantOTA Edition but each of them costs 250â‚¬." alt="please by me a coffee" />
          </form>
      </td>
      <td class='navi' style='width: 50px'></td>
    </tr>
  </table>
  
  <div id="showUpdateInfo" class="hide" style="position: fixed; top: 30%; left: 50%; transform: translate(-50%, -50%); width: 330px; height: 150px; border: 2px solid blue; border-radius: 10px; text-align: center; background-color: white;">
    <span style="font-size: 70%;">An update is available</span><br>
    <span style="font-size: 50%;">You are using: <span id="currentVersion"></span></span><br>
    <span style="font-size: 50%;">available version: <span id="newVersion"></span></span>
    <p></p>
    <button class="button" onclick="top.frames['frame_main'].document.getElementById('showUpdateInfo').classList.add('hide');">Close</button>
    <button class="button" onclick='top.frames["frame_main"].location.href="/update"'>Update</button>
  </div>

</body>
</html>